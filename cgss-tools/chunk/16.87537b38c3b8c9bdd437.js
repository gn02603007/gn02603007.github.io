"use strict";(self.webpackChunkcgss_tools=self.webpackChunkcgss_tools||[]).push([[16],{883:(e,t,a)=>{var n=a(530);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=m(),{store:a,dispatch:n}=e,{lang:u}=a||{lang:{}},{kakin:d}=u||{kakin:{}};l.default.useEffect((function(){document.title="CGSS天井課金計算",n(i.setStateData("model.menuOpen",!1))}),[]);var p={a:{price:120,jewel:60},b:{price:490,jewel:360},c:{price:980,jewel:760},e:{price:3300,jewel:2650},f:{price:5020,jewel:4200},g:{price:1e4,jewel:8400},special:{price:4900,jewel:6300}},[h,w,k]=(0,f.default)({gachaNow:0,mushoJewel:0,yushoJewel:0,totalJewel:0,remain60JewelGacha:0,remainFreeGachaAndTicket:0,isMinKakin:!1,isUseSpecial:!1,specialKakin:0,yushoList:{a:0,b:0,c:0,e:0,f:0,g:0,special:0},kakinTotal:0}),g=75e3-250*(parseInt(h.gachaNow)+parseInt(h.remain60JewelGacha)+parseInt(h.remainFreeGachaAndTicket))-(parseInt(h.totalJewel)-parseInt(h.yushoJewel))-(parseInt(h.yushoJewel)-60*parseInt(h.remain60JewelGacha)),y=g<0?0:g;l.default.useEffect((function(){!function(){var e={a:0,b:0,c:0,e:0,f:0,g:0,special:h.isUseSpecial?parseInt(h.specialKakin):0},t=g-(h.isUseSpecial?parseInt(h.specialKakin)*p.special.jewel:0);if(h.isMinKakin){for(;t>0;)t>8030?(e.g++,t-=p.g.jewel):t>3890?(e.f++,t-=p.f.jewel):t>2280?(e.e++,t-=p.e.jewel):t>720?(e.c++,t-=p.c.jewel):t>240?(e.b++,t-=p.b.jewel):t>0&&(e.a=Math.ceil(t/p.a.jewel),t-=e.a*p.a.jewel);k("yushoList",e);var a=0;Object.entries(e).filter((function([e,t]){return t>0})).forEach((function([e,t]){a+=p[e].price*t})),k("kakinTotal",a)}else k("yushoList",{...e,g:Math.ceil(t/8400)}),k("kakinTotal",Math.ceil(t/8400)*p.g.price+(h.isUseSpecial?parseInt(h.specialKakin)*p.special.price:0))}()}),[h.gachaNow,h.totalJewel,h.yushoJewel,h.remain60JewelGacha,h.remainFreeGachaAndTicket,h.isMinKakin,h.isUseSpecial,h.specialKakin]);var j=function(e){return/^(?:0|[1-9]\d*)$/.test(e)},x=function(e,t){""===(t=t.substring(t.split("").findIndex((function(e){return"0"!==e}))))&&(t=0),j(t)&&t>=0&&(k(e,t),"yushoJewel"===e&&t>h.totalJewel&&k("totalJewel",t))};return l.default.createElement(l.default.Fragment,null,l.default.createElement(s.default,{container:!0,justifyContent:"center",spacing:2,item:!0,xs:!0,className:t.root},l.default.createElement(s.default,{container:!0,justifyContent:"center",spacing:2,item:!0,xs:12},l.default.createElement(s.default,{container:!0,justifyContent:"center",item:!0,xs:2},l.default.createElement(o.default,{size:"small",label:d.model.gachaNowText,error:!j(h.gachaNow)||h.gachaNow<0,value:h.gachaNow,onChange:function(e){x("gachaNow",e.target.value)}})),l.default.createElement(s.default,{container:!0,justifyContent:"center",item:!0,xs:2},l.default.createElement(o.default,{size:"small",label:d.model.totalJewelText,error:!j(h.totalJewel)||h.totalJewel<0,value:h.totalJewel,onChange:function(e){x("totalJewel",e.target.value)}})),l.default.createElement(s.default,{container:!0,justifyContent:"center",item:!0,xs:2},l.default.createElement(o.default,{size:"small",label:d.model.yushoJewelText,error:!j(h.yushoJewel)||h.yushoJewel<0,value:h.yushoJewel,onChange:function(e){x("yushoJewel",e.target.value)}})),l.default.createElement(s.default,{container:!0,justifyContent:"center",item:!0,xs:2},l.default.createElement(o.default,{size:"small",label:d.model.remain60JewelGachaText,error:!j(h.remain60JewelGacha)||h.remain60JewelGacha<0,value:h.remain60JewelGacha,onChange:function(e){x("remain60JewelGacha",e.target.value)}})),l.default.createElement(s.default,{container:!0,justifyContent:"center",item:!0,xs:2},l.default.createElement(o.default,{size:"small",label:d.model.remainFreeGachaAndTicketText,error:!j(h.remainFreeGachaAndTicket)||h.remainFreeGachaAndTicket<0,value:h.remainFreeGachaAndTicket,onChange:function(e){x("remainFreeGachaAndTicket",e.target.value)}})),l.default.createElement(s.default,{container:!0,justifyContent:"center",alignItems:"center",item:!0,xs:6},l.default.createElement(c.default,{label:d.model.isMinKakinText,labelPlacement:"end",control:l.default.createElement(r.default,{color:"primary",checked:h.isMinKakin,onChange:function(){k("isMinKakin",!h.isMinKakin)}})})),l.default.createElement(s.default,{container:!0,justifyContent:"center",alignItems:"center",item:!0,xs:6},l.default.createElement(c.default,{label:"",labelPlacement:"end",control:l.default.createElement(r.default,{color:"primary",checked:h.isUseSpecial,onChange:function(){k("isUseSpecial",!h.isUseSpecial)}})}),l.default.createElement("span",{onClick:function(){k("isUseSpecial",!h.isUseSpecial)}},d.model.specialKakinText.header),l.default.createElement(o.default,{className:"short-input",size:"small",label:"",error:!j(h.specialKakin)||h.specialKakin<0,value:h.specialKakin,onChange:function(e){x("specialKakin",e.target.value)}}),l.default.createElement("span",{onClick:function(){k("isUseSpecial",!h.isUseSpecial)}},d.model.specialKakinText.footer)),l.default.createElement(s.default,{container:!0,justifyContent:"center",item:!0,xs:12},l.default.createElement(s.default,{container:!0,justifyContent:"center",item:!0,xs:6},d.model.stillNeedJewelText.header," ",y," ",d.model.stillNeedJewelText.footer),l.default.createElement(s.default,{container:!0,justifyContent:"center",item:!0,xs:6},d.model.stillNeedMaxKakinText.header," ",((y-(h.isUseSpecial?parseInt(h.specialKakin)*p.special.jewel:0))/p.g.jewel).toFixed(3)," ",d.model.stillNeedMaxKakinText.footer," ",h.isUseSpecial?"+":""," ",h.isUseSpecial?h.specialKakin:""," ",h.isUseSpecial?d.model.stillNeedMaxKakinText.special:"")),l.default.createElement(s.default,{container:!0,justifyContent:"center",item:!0,xs:12},l.default.createElement(s.default,{container:!0,justifyContent:"center",item:!0,xs:6},d.model.kakinSetText),l.default.createElement(s.default,{container:!0,justifyContent:"center",item:!0,xs:6},d.model.kakinTotalText+" "+h.kakinTotal)),l.default.createElement(s.default,{container:!0,justifyContent:"center",item:!0,xs:6},Object.entries(h.yushoList).filter((function([e,t]){return t>0})).map((function([e,t],a){return l.default.createElement(s.default,{key:e+"-"+t,container:!0,justifyContent:"center",item:!0,xs:12},d.model.yushoList[e]+h.yushoList[e])}))),l.default.createElement(s.default,{container:!0,justifyContent:"center",item:!0,xs:6}))))};var l=n(a(7294)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var r=l?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(7726)),r=n(a(2719)),c=n(a(5190)),s=n(a(7108)),o=n(a(5961)),u=n(a(5405)),f=n(a(26));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}var m=(0,u.default)({root:{marginTop:40,"& .short-input input":{maxWidth:30,textAlign:"right",paddingBottom:3,marginRight:10}}})},26:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(7294),l=function(e=null){var[t,a]=(0,n.useState)(e);return[t,a,function(e,n){if(""!==e.trim()){for(var l=t,i=e.split("."),r=0;r<i.length-1;r++)l[i[r]]||(l[i[r]]={}),l=l[i[r]];l[i[i.length-1]]=n,a({...t})}}]};t.default=l}}]);