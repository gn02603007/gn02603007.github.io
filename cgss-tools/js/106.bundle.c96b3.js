(self.webpackChunkcgss_tools=self.webpackChunkcgss_tools||[]).push([[106],{2991:function(e,t,n){e.exports=n(1798)},5106:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var a=n(3978),r=n.n(a),c=n(368),i=n.n(c),o=n(9649),l=n.n(o),s=n(8914),u=n.n(s),m=n(4074),f=n.n(m),d=n(116),Z=n.n(d),x=n(4310),p=n.n(x),E=n(6902),y=n.n(E),v=n(7766),h=n.n(v),g=n(8363),j=n(2193),C=n(3592),b=n(8317),k=n(1446),w=n(8597);var z=n(1509),G=n(2991),S=n.n(G),A=n(717),O=n(7294),F=n(1749),I=n(2663),N=n(6253),R=n(6209),W=n(5639),_=n(1120),D=n(282),L=n(7812),M=n(8884);function P(e,t){var n=y()(e);if(p()){var a=p()(e);t&&(a=Z()(a).call(a,(function(t){return f()(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n,a=null!=arguments[t]?arguments[t]:{};if(t%2)u()(n=P(Object(a),!0)).call(n,(function(t){(0,z.Z)(e,t,a[t])}));else if(l())i()(e,l()(a));else{var c;u()(c=P(Object(a))).call(c,(function(t){r()(e,t,f()(a,t))}))}}return e}var $=function(e){return(0,_.Z)({root:{background:e,border:0,borderRadius:3,width:64,height:30,padding:"0 30px"}})};function q(e){var t,n=e.customProps,a=(n.setNowLoadingOpen,n.setMenuDisplay),r={red:$("lightpink")(),blue:$("deepskyblue")(),yellow:$("lightsalmon")()},c=(0,O.useState)({totalGacha:0,permanent:0,targetCard:[]}),i=(0,A.Z)(c,2),o=i[0],l=i[1];(0,O.useEffect)((function(){console.log(o)}),[o]);var s,u,m=function(e){return(e/o.totalGacha*100).toFixed(3)},f=function(e){l(T(T({},o),{},{totalGacha:o.totalGacha+e}))},d=(0,O.useState)(!1),Z=(0,A.Z)(d,2),x=Z[0],p=Z[1],E=(0,O.useState)({name:"",color:""}),y=(0,A.Z)(E,2),v=y[0],G=y[1],_=function(e){G(T(T({},v),{},(0,z.Z)({},e.target.name,e.target.value)))};return O.createElement(O.Fragment,null,O.createElement(F.Z,{container:!0,justify:"center",spacing:2,item:!0,xs:!0},O.createElement(F.Z,{container:!0,justify:"center",item:!0,xs:12},O.createElement(F.Z,{container:!0,justify:"flex-start",item:!0,xs:4},O.createElement(L.Z,{size:"small",onClick:function(){a(!0)}},O.createElement(M.Z,{style:{}}))),O.createElement(F.Z,{container:!0,justify:"center",item:!0,xs:4}),O.createElement(F.Z,{container:!0,justify:"flex-end",item:!0,xs:4},O.createElement(D.Z,{size:"small",variant:"contained",onClick:function(){p(!0),G({name:"",color:""})}},"追加目標卡"))),O.createElement(F.Z,{container:!0,justify:"center",item:!0,xs:12},O.createElement(F.Z,{container:!0,justify:"flex-end",item:!0,xs:4},"SSR率："),O.createElement(F.Z,{container:!0,justify:"flex-start",item:!0,xs:1},o.totalGacha>0?m(o.permanent+(u=0,S()(s=o.targetCard).call(s,(function(e){u+=e.count})),u)):0," %"),O.createElement(F.Z,{container:!0,justify:"flex-start",item:!0,xs:7})),O.createElement(F.Z,{container:!0,justify:"center",item:!0,xs:12},O.createElement(F.Z,{container:!0,justify:"flex-end",item:!0,xs:4},"其他常駐："),O.createElement(F.Z,{container:!0,justify:"flex-start",item:!0,xs:1},o.permanent," (",o.totalGacha>0?m(o.permanent):0," %)"),O.createElement(F.Z,{container:!0,justify:"flex-start",item:!0,xs:7},O.createElement(D.Z,{size:"small",variant:"contained",onClick:function(){l(T(T({},o),{},{permanent:o.permanent+1}))}},"+1"))),S()(t=o.targetCard).call(t,(function(e,t){return O.createElement(F.Z,{key:t,container:!0,justify:"center",item:!0,xs:12},O.createElement(F.Z,{container:!0,justify:"flex-end",item:!0,xs:4},e.name,"："),O.createElement(F.Z,{container:!0,justify:"flex-start",item:!0,xs:1},e.count," (",o.totalGacha>0?m(e.count):0," %)"),O.createElement(F.Z,{container:!0,justify:"flex-start",item:!0,xs:7},O.createElement(D.Z,{className:(n=e.color,"default"===n?"":r[n].root),size:"small",variant:"contained",onClick:function(){!function(e,t){o.targetCard[t].count+=1,l(T({},o))}(0,t)}},"+1")));var n})),O.createElement(F.Z,{container:!0,justify:"center",item:!0,xs:12},O.createElement(F.Z,{container:!0,justify:"flex-end",item:!0,xs:4},"總抽數："),O.createElement(F.Z,{container:!0,justify:"flex-start",item:!0,xs:1},o.totalGacha),O.createElement(F.Z,{container:!0,justify:"flex-start",item:!0,xs:7},O.createElement(D.Z,{size:"small",variant:"contained",onClick:function(){f(1)}},"+1"),O.createElement(D.Z,{size:"small",variant:"contained",onClick:function(){f(10)}},"+10"),O.createElement(D.Z,{size:"small",variant:"contained",onClick:function(){f(100)}},"+100")))),O.createElement(I.Z,{fullWidth:!0,maxWidth:"sm",open:x,onClose:function(){p(!1)}},O.createElement(N.Z,{label:"名稱",size:"medium",id:"name",name:"name",type:"text",value:v.name,onChange:_,error:/^\s$/gim.test(v.name)}),O.createElement(R.Z,{id:"color",name:"color",style:{width:"98%"},value:v.color,onChange:_},O.createElement(W.Z,{value:"red"},"cute"),O.createElement(W.Z,{value:"blue"},"cool"),O.createElement(W.Z,{value:"yellow"},"passion")),O.createElement(D.Z,{size:"small",variant:"contained",onClick:function(){var e,t,n=v.name,a=v.color;console.log(v),l(T(T({},o),{},{targetCard:h()(e=[]).call(e,(t=o.targetCard,function(e){if(g(e))return(0,j.Z)(e)}(t)||function(e){if(void 0!==k&&b(Object(e)))return C(e)}(t)||(0,w.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{name:n,color:""===a?"default":a,count:0}])})),p(!1)}},"Add")))}},3866:function(e,t,n){n(8787);var a=n(5703);e.exports=a("Array").map},8287:function(e,t,n){var a=n(3866),r=Array.prototype;e.exports=function(e){var t=e.map;return e===r||e instanceof Array&&t===r.map?a:t}},8787:function(e,t,n){"use strict";var a=n(6887),r=n(3610).map,c=n(568),i=n(5486),o=c("map"),l=i("map");a({target:"Array",proto:!0,forced:!o||!l},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},1798:function(e,t,n){var a=n(8287);e.exports=a}}]);